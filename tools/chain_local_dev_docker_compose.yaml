version: '3'

services:
  huns-chain-node0:
    image: 'huns-chain:latest'
    container_name: huns-chain-node0
    restart: always
    environment:
      NODE_NAME: node0
      NODE_APP_ID: node0app
      MANAGER_HOST: 10.7.10.151
    networks:
      bcn:
        ipv4_address: 192.170.0.2
    ports:
      - '38080:38080'
      - '5000:5000'
    volumes:
      - "/tmp/huns-chain-0-logs:/app/logs"

  huns-chain-node1:
    image: 'huns-chain:latest'
    container_name: huns-chain-node1
    restart: always
    environment:
      NODE_NAME: node1
      NODE_APP_ID: node1app
      MANAGER_HOST: 10.7.10.151
    networks:
      bcn:
        ipv4_address: 192.170.0.3
    ports:
      - '38081:38080'
      - '5001:5000'
    volumes:
      - "/tmp/huns-chain-1-logs:/app/logs"

  huns-chain-node2:
    image: 'huns-chain:latest'
    container_name: huns-chain-node2
    restart: always
    environment:
      NODE_NAME: node2
      NODE_APP_ID: node2app
      MANAGER_HOST: 10.7.10.151
    networks:
      bcn:
        ipv4_address: 192.170.0.4
    ports:
      - '38082:38080'
      - '5002:5000'
    volumes:
      - "/tmp/huns-chain-2-logs:/app/logs"

  huns-chain-node3:
    image: 'huns-chain:latest'
    container_name: huns-chain-node3
    restart: always
    environment:
      NODE_NAME: node3
      NODE_APP_ID: node3app
      MANAGER_HOST: 10.7.10.151
    networks:
      bcn:
        ipv4_address: 192.170.0.5
    ports:
      - '38083:38080'
      - '5003:5000'
    volumes:
      - "/tmp/huns-chain-3-logs:/app/logs"

networks:
  bcn:
    ipam:
      config:
        - subnet: 192.170.0.0/16